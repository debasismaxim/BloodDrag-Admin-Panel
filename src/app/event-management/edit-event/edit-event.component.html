<section class="admin-content">

    <div class="bg-dark m-b-30" *ngIf="eventDetails">

        <div class="container">

            <div class="row p-b-60 p-t-60">



                <div class="col-md-6 text-white p-b-30">

                    <div class="media">



                        <h5 class="mt-0">{{eventDetails.name}}</h5>



                        <div class="media-body m-auto">





                        </div>

                    </div>



                </div>

                <div class="col-md-6 text-white my-auto text-md-right p-b-30">



                    <div class="">

                        <a [routerLink]="['/em/view-events' ]" routerLinkActive="router-link-active"
                            class="btn ml-2 mr-2 btn-primary"><i class="mdi mdi-account-arrow-left"></i> Back

                        </a>

                    </div>

                </div>

            </div>

        </div>

    </div>

    <div class="container pull-up">

        <div class="row">

            <div class="col-lg-8">

                <!--message-->


                <!--message-->





                <!-- Single post-->

                <div class="card m-b-30">

                    <div class="card-header">

                        <div class="media">

                            <div class="media-body m-auto">

                                <h5 class="m-0"> Update Event </h5>

                                <div class="opacity-75 text-muted"></div>

                            </div>

                        </div>



                        <div class="card-controls">

                        </div>

                    </div>

                    <div class="card-raw">

                        <div class="card-body">



                        </div>

                    </div>

                    <div class="col-lg-12">

                        <div class="card-body ">

                            <form [formGroup]="editEventForm" #f="ngForm" autocomplete="off"
                            (ngSubmit)="updateDetails(f)">
                            <div class="form-row">
                                <div class="form-group  col-md-12">
                                    <label>Event Name</label>
                                    <input type="text" formControlName="name" class="form-control"
                                    [ngClass]="{'is-invalid': editEventForm.controls['name'].status == 'INVALID' && editEventForm.controls['name'].touched}"
                                        placeholder="Event Name">
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="col-md-6 form-group">
                                    <label>Start Date</label>
                                    <input type="text" class="js-datepicker1 form-control" formControlName="startDate"
                                    [ngClass]="{'is-invalid': editEventForm.controls['startDate'].status == 'INVALID' && editEventForm.controls['startDate'].touched}"    
                                    placeholder="Select Start Date">
                                </div>
                                <div class="col-md-6 form-group">
                                    <label>End Date</label>
                                    <input type="text" class="js-datepicker2 form-control" formControlName="endDate"
                                    [ngClass]="{'is-invalid': editEventForm.controls['endDate'].status == 'INVALID' && editEventForm.controls['endDate'].touched}"
                                        placeholder="Select End Date">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col-md-6 form-group">
                                    <div class="font-secondary"> Start Time </div>
                                    <input class="form-control timepicker1" type="text" formControlName="startTime"
                                    [ngClass]="{'is-invalid': editEventForm.controls['startTime'].status == 'INVALID' && editEventForm.controls['startTime'].touched}"
                                    placeholder="Select Start Time">
                                </div>
                                <div class="col-md-6 form-group">
                                    <div class="font-secondary"> End Time </div>
                                    <input class="form-control timepicker2" type="text" formControlName="endTime"
                                    [ngClass]="{'is-invalid': editEventForm.controls['endTime'].status == 'INVALID' && editEventForm.controls['endTime'].touched}"
                                    placeholder="Select End Time">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col-md-6 form-group">
                                    <label for="username">Country</label>


                                    <select class="form-control "  [(ngModel)]="countryName"
                                    [ngClass]="{'is-invalid': editEventForm.controls['country'].status == 'INVALID' && editEventForm.controls['country'].touched}"
                                    (ngModelChange)="getStateListByCountry(countryName)" formControlName="country"
                                        id="country-dropdown">
                                        <option value="" selected disabled>Select Country</option>
                                        <option *ngFor="let country of countryList" [value]="country.name">{{country?.name}}</option>
                                    </select>
                                </div>
                                <div class="col-md-6 form-group">
                                    <label for="username">State</label>
    
                                    <select required="" class="form-control " formControlName="state"
                                    [ngClass]="{'is-invalid': editEventForm.controls['state'].status == 'INVALID' && editEventForm.controls['state'].touched}"
                                     [(ngModel)]="stateName" id="state-dropdown" placeholder="select State">
                                        <option  value="" selected disabled>Select State/Province</option>
                                        <option *ngFor="let state of stateList" [value]="state.name">{{state?.name}}</option>
        
                                    </select>
    
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label>Location</label>
                                    <input type="text" class="form-control" formControlName="location"
                                    [ngClass]="{'is-invalid': editEventForm.controls['location'].status == 'INVALID' && editEventForm.controls['location'].touched}"
                                        placeholder="1234 Main St">
                                </div>
                                <div class="form-group col-md-6">
                                    <label>Postal Code</label>
                                    <input type="text" class="form-control" formControlName="zip"
                                    [ngClass]="{'is-invalid': editEventForm.controls['zip'].status == 'INVALID' && editEventForm.controls['zip'].touched}" placeholder="zipcode">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-12">
                                    <label>Event Description</label>
                                    <textarea formControlName="description" 
                                    [ngClass]="{'is-invalid': editEventForm.controls['description'].status == 'INVALID' && editEventForm.controls['description'].touched}" id="description">
                                    </textarea>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-12">
                                    <label style="display: block;">Event Images</label>
                                    <label class="avatar-input" *ngFor="let pic of editEventForm.value.images; let i=index">
                                        <i class="fa fa-times delete-icon" aria-hidden="true" (click)="removeImage(i)"></i>
                                        <span class="avatar avatar-xxl">
                                            <img [src]="eventImageBaseUrl + pic" alt="..." class="avatar-img">
                                        </span>
                                    

                                    </label>
                                    <div class="input-group mb-3">

                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="inputGroupFileAddon01">Max 5Mb</span>
                                        </div>
                                        <div class="custom-file">
                                            <input type="file" class="custom-file-input" id="inputGroupFile01" (change)="readFile($event)" multiple>
                                            <label class="custom-file-label" for="inputGroupFile01">Choose file</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label>No of Registered Cars allowed</label>
                                    <input type="text" class="form-control" formControlName="registeredCarsAllowed"
                                    [ngClass]="{'is-invalid': editEventForm.controls['registeredCarsAllowed'].status == 'INVALID' && editEventForm.controls['registeredCarsAllowed'].touched}"
                                        placeholder="No. of Registered Cars">
                                </div>
                                <div class="form-group col-md-6">
                                    <label>No of VIP registered cars allowed</label>
                                    <input type="text" class="form-control" formControlName="vipRegisteredCarsAllowed"
                                    [ngClass]="{'is-invalid': editEventForm.controls['vipRegisteredCarsAllowed'].status == 'INVALID' && editEventForm.controls['vipRegisteredCarsAllowed'].touched}"
                                        placeholder="No. of VIP Registered Cars">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-12">
                                    <label>Mapcode</label>
                                    <input type="text" class="form-control" formControlName="mapCode"
                                        placeholder="Mapcode">
                                </div>
                                <!-- <div class="col-md-12" *ngIf="addEventForm.value.mapCode">
                                    <div [innerHtml]="addEventForm.value.mapCode">

                                    </div>
                                
                                </div> -->
                            </div>

                            <button type="submit" class="btn btn-primary">Update Event</button>

                        </form>

                        </div>

                    </div>



                </div>





            </div>



            <div class="col-lg-4">



                <div class="card m-b-30">

                    <div class="card-header">

                        <div class="avatar mr-2 avatar-xs">

                            <div class="avatar-title bg-dark rounded-circle">

                                <i class="mdi mdi-information-variant mdi-18px"></i>

                            </div>

                        </div>

                        Event Details

                    </div>

                    <div class="list-group list  list-group-flush" *ngIf="eventDetails">





                        <div class="list-group-item ">

                            <i class="mdi mdi-email"></i> Event Name: {{eventDetails.name}}
                        </div>

                        <div class="list-group-item ">

                            <i class="mdi mdi-home-map-marker"></i> Location: {{eventDetails.location}}
                        </div>



                        <div class="list-group-item ">

                            <i class="mdi mdi mdi-city"></i> Date: {{eventDetails.startDate + "-" +  eventDetails.endDate}}
                        </div>

                        <div class="list-group-item ">

                            <i class="mdi mdi mdi-city"></i> Time: {{eventDetails.startTime + "-" +  eventDetails.endTime}}
                        </div>



                    




                    </div>

                </div>



            </div>

        </div>

    </div>

</section>