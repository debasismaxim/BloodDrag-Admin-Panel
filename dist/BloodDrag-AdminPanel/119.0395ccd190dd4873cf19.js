"use strict";(self.webpackChunkblood_drag_admin_panel=self.webpackChunkblood_drag_admin_panel||[]).push([[119],{7288:(h,_,g)=>{g.d(_,{a:()=>v});var p=g(5938),n=g(7716);let v=(()=>{class i{constructor(m,l){this.data=m,this.dialogRef=l}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return i.\u0275fac=function(m){return new(m||i)(n.Y36(p.WI),n.Y36(p.so))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-delete-confirm-dialog"]],decls:10,vars:3,consts:[[1,"container"],[1,"row","position-relative"],[1,"h6","text-center"],[1,"text-center"],[1,"btn","btn-sm","custom-blue",3,"mat-dialog-close"],[1,"btn","btn-sm","custom-red","ml-2",3,"mat-dialog-close"]],template:function(m,l){1&m&&(n.TgZ(0,"div",0),n._UZ(1,"div",1),n.TgZ(2,"mat-dialog-content"),n.TgZ(3,"p",2),n._uU(4),n.qZA(),n.qZA(),n.TgZ(5,"div",3),n.TgZ(6,"button",4),n._uU(7,"NO"),n.qZA(),n.TgZ(8,"button",5),n._uU(9,"YES"),n.qZA(),n.qZA(),n.qZA()),2&m&&(n.xp6(4),n.Oqu(l.data.message),n.xp6(2),n.Q6J("mat-dialog-close",!1),n.xp6(2),n.Q6J("mat-dialog-close",!0))},directives:[p.xY,p.ZT],styles:[".close-btn[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.custom-blue[_ngcontent-%COMP%]{background-color:#00f;color:#fff}.custom-red[_ngcontent-%COMP%]{background-color:red;color:#fff}"]}),i})()},5566:(h,_,g)=>{g.d(_,{a:()=>i});var p=g(7716),n=g(7179),v=g(5643);let i=(()=>{class u{constructor(l,e){this.router=l,this.authService=e}canActivate(l,e){return!!this.authService.authValue||(this.router.navigate(["/login"],{queryParams:{returnUrl:e.url}}),!1)}}return u.\u0275fac=function(l){return new(l||u)(p.LFG(n.F0),p.LFG(v.e))},u.\u0275prov=p.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},6119:(h,_,g)=>{g.r(_),g.d(_,{BadgeManagementModule:()=>K});var p=g(8583),n=g(7179),v=g(5566),i=g(3679),u=g(8049),m=g(4292),l=g(2340),e=g(7716),Z=g(8002),q=g(1841);let b=(()=>{class o{constructor(t){this.http=t}uploadBadgeIcon(t){var a=new FormData;return a.append("file",t),this.http.post(`${l.N.apiUrl}/media?process=BADGE_ICON`,a).pipe((0,Z.U)(r=>r))}uploadCompanyLogo(t){var a=new FormData;return a.append("file",t),this.http.post(`${l.N.apiUrl}/media?process=SPONSOR_COMPANY_LOGO`,a).pipe((0,Z.U)(r=>r))}getEventList(){return this.http.get(`${l.N.apiUrl}/events/getAll?status=1&selectField=${["id","name"]}`).pipe((0,Z.U)(a=>a))}getAllBadgeList(){return this.http.get(`${l.N.apiUrl}/badges/getAll`).pipe((0,Z.U)(t=>t))}deleteById(t){return this.http.get(`${l.N.apiUrl}/badges/delete/${t}`).pipe((0,Z.U)(a=>a))}createBadge(t){return this.http.post(`${l.N.apiUrl}/badges/create`,t).pipe((0,Z.U)(a=>a))}updateBadge(t,a){return this.http.post(`${l.N.apiUrl}/badges/update/${a}`,t).pipe((0,Z.U)(r=>r))}getBadgeDetailsById(t){return this.http.get(`${l.N.apiUrl}/badges/get/${t}`).pipe((0,Z.U)(a=>a))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(q.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var A=g(4853);const T=function(o){return{"is-invalid":o}};function y(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",15),e.TgZ(1,"div",16),e.TgZ(2,"div",17),e.TgZ(3,"label",36),e._uU(4,"Company Name"),e.qZA(),e._UZ(5,"input",37),e.qZA(),e.TgZ(6,"div",17),e.TgZ(7,"label"),e._uU(8,"External Link"),e.qZA(),e._UZ(9,"input",38),e.qZA(),e.qZA(),e.TgZ(10,"div",22),e.TgZ(11,"label",23),e._uU(12,"Company Logo"),e.qZA(),e.TgZ(13,"label",24),e.TgZ(14,"span",25),e._UZ(15,"img",39),e.TgZ(16,"span",27),e._UZ(17,"i",28),e.qZA(),e.qZA(),e.TgZ(18,"input",29),e.NdJ("change",function(r){return e.CHM(t),e.oxw().readCompanyLogo(r)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngClass",e.VKq(3,T,"INVALID"==t.createBadgeForm.controls.companyName.status&&t.createBadgeForm.controls.companyName.touched)),e.xp6(4),e.Q6J("ngClass",e.VKq(5,T,"INVALID"==t.createBadgeForm.controls.extLink.status&&t.createBadgeForm.controls.extLink.touched)),e.xp6(6),e.Q6J("src",t.createBadgeForm.value.companyLogo?t.companyIconBaseUrl+t.createBadgeForm.value.companyLogo:"assets/img/badges/default.jpg",e.LSH)}}function B(o,d){if(1&o&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&o){const t=d.$implicit;e.Q6J("value",t.key),e.xp6(1),e.Oqu(t.name)}}function C(o,d){if(1&o&&(e.TgZ(0,"div",22),e.TgZ(1,"label",36),e._uU(2,"On Year Completion"),e.qZA(),e._UZ(3,"input",40),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngClass",e.VKq(1,T,"INVALID"==t.createBadgeForm.controls.yearCompletion.status&&t.createBadgeForm.controls.yearCompletion.touched))}}function U(o,d){if(1&o&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&o){const t=d.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function x(o,d){if(1&o&&(e.TgZ(0,"div",22),e.TgZ(1,"label"),e._uU(2,"Event Participation"),e.qZA(),e.TgZ(3,"select",41),e.TgZ(4,"option",20),e._uU(5,"Select Event"),e.qZA(),e.YNc(6,U,2,2,"option",33),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngClass",e.VKq(2,T,"INVALID"==t.createBadgeForm.controls.eventParticipation.status&&t.createBadgeForm.controls.eventParticipation.touched)),e.xp6(3),e.Q6J("ngForOf",t.eventList)}}let F=(()=>{class o{constructor(t,a,r){this.bmSrvc=t,this.fb=a,this.alertSrvc=r,this.expiryDate="",this.badgeIconBaseUrl=l.N.baseUrl+"/uploads/badge_icons/",this.companyIconBaseUrl=l.N.baseUrl+"/uploads/sponsor_company_logo/",this.badgeTypes=m.$.badgeTypes,this.eventList=[]}ngOnInit(){this.createBadgeForm=this.fb.group({title:["",i.kI.required],icon:["",i.kI.required],isSponsored:["",i.kI.required],companyName:[""],companyLogo:[""],extLink:[""],expiryDate:["",i.kI.required],badgeType:[""],yearCompletion:[""],eventParticipation:[""]}),this.getAllEvents()}readBadgeFile(t){let a=t.target;a.files&&a.files[0]&&((new FileReader).readAsDataURL(a.files[0]),this.bmSrvc.uploadBadgeIcon(a.files[0]).pipe((0,u.P)()).subscribe(s=>{s.error||this.createBadgeForm.patchValue({icon:s.data.filename})}))}readCompanyLogo(t){let a=t.target;a.files&&a.files[0]&&((new FileReader).readAsDataURL(a.files[0]),this.bmSrvc.uploadCompanyLogo(a.files[0]).pipe((0,u.P)()).subscribe(s=>{s.error||this.createBadgeForm.patchValue({companyLogo:s.data.filename})}))}getAllEvents(){this.bmSrvc.getEventList().subscribe(t=>{t.error||(this.eventList=t.data)})}createBadge(t){this.bmSrvc.createBadge(this.createBadgeForm.value).subscribe(a=>{a.error||($(window).scrollTop(0),t.resetForm(),this.alertSrvc.success("Badge created successfully."))})}ngAfterViewInit(){$(".js-datepicker1").datepicker(),$(".js-datepicker1").change(()=>{this.createBadgeForm.controls.expiryDate.setValue($(".js-datepicker1").val())})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b),e.Y36(i.qu),e.Y36(A.c))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-badge"]],decls:61,vars:19,consts:[[1,"admin-content"],[1,"bg-dark"],[1,"container","m-b-30"],[1,"row"],[1,"col-12","text-white","p-t-40","p-b-90"],[1,""],[1,"opacity-75"],[1,"container","pull-up"],[1,"col-lg-12"],[1,"card","m-b-30"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],["autocomplete","off",3,"formGroup","ngSubmit"],["f","ngForm"],[1,"form-row"],[1,"col-md-6"],[1,"form-group"],["type","text","formControlName","title","placeholder","Badge Title",1,"form-control",3,"ngClass"],["formControlName","isSponsored",1,"form-control",3,"ngClass"],["value","","selected","","disabled",""],[3,"value"],[1,"form-group","col-md-6"],[2,"display","block"],[1,"avatar-input"],[1,"avatar","avatar-xl"],["alt","...",1,"avatar-img",3,"src"],[1,"avatar-input-icon"],[1,"mdi","mdi-progress-upload","mdi-24px"],["type","file",1,"avatar-file-picker",3,"change"],["class","form-row",4,"ngIf"],["type","text","formControlName","expiryDate","placeholder","Select Expiry Date",1,"js-datepicker1","form-control",3,"ngModel","ngModelChange"],["formControlName","badgeType",1,"form-control",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","form-group col-md-6",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],["for","mobile"],["type","text","id","phone","formControlName","companyName","placeholder","Sponsor Company Name","autocomplete","off",1,"form-control",3,"ngClass"],["type","text","formControlName","extLink","placeholder","External Link",1,"form-control",3,"ngClass"],["alt","...",1,"avatar-img1",3,"src"],["type","text","formControlName","yearCompletion","placeholder","Number of Year","autocomplete","off",1,"form-control",3,"ngClass"],["formControlName","eventParticipation",1,"form-control",3,"ngClass"]],template:function(t,a){if(1&t){const r=e.EpF();e.TgZ(0,"section",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"h4",5),e._uU(6,"Create Badge"),e.qZA(),e._UZ(7,"p",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"div",3),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e.TgZ(12,"div",10),e.TgZ(13,"h5",11),e._uU(14," Create Badge "),e.qZA(),e.qZA(),e.TgZ(15,"div",12),e.TgZ(16,"form",13,14),e.NdJ("ngSubmit",function(){e.CHM(r);const c=e.MAs(17);return c.valid?a.createBadge(c):""}),e.TgZ(18,"div",15),e.TgZ(19,"div",16),e.TgZ(20,"div",17),e.TgZ(21,"label"),e._uU(22,"Title"),e.qZA(),e._UZ(23,"input",18),e.qZA(),e.TgZ(24,"div",17),e.TgZ(25,"label"),e._uU(26,"Is Sponsored?"),e.qZA(),e.TgZ(27,"select",19),e.TgZ(28,"option",20),e._uU(29,"Select "),e.qZA(),e.TgZ(30,"option",21),e._uU(31,"Yes "),e.qZA(),e.TgZ(32,"option",21),e._uU(33,"No "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",22),e.TgZ(35,"label",23),e._uU(36,"Badge Logo"),e.qZA(),e.TgZ(37,"label",24),e.TgZ(38,"span",25),e._UZ(39,"img",26),e.TgZ(40,"span",27),e._UZ(41,"i",28),e.qZA(),e.qZA(),e.TgZ(42,"input",29),e.NdJ("change",function(c){return a.readBadgeFile(c)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(43,y,19,7,"div",30),e.TgZ(44,"div",15),e.TgZ(45,"div",22),e.TgZ(46,"label"),e._uU(47,"Expiry Date"),e.qZA(),e.TgZ(48,"input",31),e.NdJ("ngModelChange",function(c){return a.expiryDate=c}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div",15),e.TgZ(50,"div",22),e.TgZ(51,"label"),e._uU(52,"Badge Type"),e.qZA(),e.TgZ(53,"select",32),e.TgZ(54,"option",20),e._uU(55,"Select Badge Type"),e.qZA(),e.YNc(56,B,2,2,"option",33),e.qZA(),e.qZA(),e.YNc(57,C,4,3,"div",34),e.YNc(58,x,7,4,"div",34),e.qZA(),e.TgZ(59,"button",35),e._uU(60,"Create Badge"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const r=e.MAs(17);e.xp6(16),e.Q6J("formGroup",a.createBadgeForm),e.xp6(7),e.Q6J("ngClass",e.VKq(13,T,"INVALID"==a.createBadgeForm.controls.title.status&&a.createBadgeForm.controls.title.touched)),e.xp6(4),e.Q6J("ngClass",e.VKq(15,T,"INVALID"==a.createBadgeForm.controls.isSponsored.status&&a.createBadgeForm.controls.isSponsored.touched)),e.xp6(3),e.Q6J("value",!0),e.xp6(2),e.Q6J("value",!1),e.xp6(7),e.Q6J("src",a.createBadgeForm.value.icon?a.badgeIconBaseUrl+a.createBadgeForm.value.icon:"assets/img/badges/default.jpg",e.LSH),e.xp6(4),e.Q6J("ngIf",a.createBadgeForm.value.isSponsored),e.xp6(5),e.Q6J("ngModel",a.expiryDate),e.xp6(5),e.Q6J("ngClass",e.VKq(17,T,"INVALID"==a.createBadgeForm.controls.badgeType.status&&a.createBadgeForm.controls.badgeType.touched)),e.xp6(3),e.Q6J("ngForOf",a.badgeTypes),e.xp6(1),e.Q6J("ngIf",1==a.createBadgeForm.value.badgeType),e.xp6(1),e.Q6J("ngIf",2==a.createBadgeForm.value.badgeType||3==a.createBadgeForm.value.badgeType),e.xp6(1),e.Q6J("disabled",r.invalid)}},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,p.mk,i.EJ,i.YN,i.Kr,p.O5,p.sg],styles:["span.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:5px;background-color:#c1c4cd}label.radio-label[_ngcontent-%COMP%]{font-weight:normal;font-size:14px;margin-left:5px}"]}),o})();const L=function(){return["/bm/view-badges"]};function I(o,d){if(1&o&&(e.TgZ(0,"div",43),e.TgZ(1,"div",44),e.TgZ(2,"div",45),e.TgZ(3,"div",46),e.TgZ(4,"div",7),e.TgZ(5,"h5",47),e._uU(6),e.qZA(),e._UZ(7,"div",8),e.qZA(),e.qZA(),e.TgZ(8,"div",48),e.TgZ(9,"div",49),e.TgZ(10,"a",50),e._UZ(11,"i",51),e._uU(12," Back "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(6),e.Oqu(t.badgeDetails.title),e.xp6(4),e.Q6J("routerLink",e.DdM(2,L))}}const f=function(o){return{"is-invalid":o}};function D(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",17),e.TgZ(1,"div",18),e.TgZ(2,"div",19),e.TgZ(3,"label",52),e._uU(4,"Company Name"),e.qZA(),e._UZ(5,"input",53),e.qZA(),e.TgZ(6,"div",19),e.TgZ(7,"label"),e._uU(8,"External Link"),e.qZA(),e._UZ(9,"input",54),e.qZA(),e.qZA(),e.TgZ(10,"div",24),e.TgZ(11,"label",25),e._uU(12,"Company Logo"),e.qZA(),e.TgZ(13,"label",26),e.TgZ(14,"span",27),e._UZ(15,"img",55),e.TgZ(16,"span",29),e._UZ(17,"i",30),e.qZA(),e.qZA(),e.TgZ(18,"input",31),e.NdJ("change",function(r){return e.CHM(t),e.oxw().readCompanyLogo(r)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngClass",e.VKq(3,f,"INVALID"==t.updateBadgeForm.controls.companyName.status&&t.updateBadgeForm.controls.companyName.touched)),e.xp6(4),e.Q6J("ngClass",e.VKq(5,f,"INVALID"==t.updateBadgeForm.controls.extLink.status&&t.updateBadgeForm.controls.extLink.touched)),e.xp6(6),e.Q6J("src",t.updateBadgeForm.value.companyLogo?t.companyIconBaseUrl+t.updateBadgeForm.value.companyLogo:"assets/img/badges/default.jpg",e.LSH)}}function N(o,d){if(1&o&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&o){const t=d.$implicit;e.Q6J("value",t.key),e.xp6(1),e.Oqu(t.name)}}function S(o,d){if(1&o&&(e.TgZ(0,"div",24),e.TgZ(1,"label",52),e._uU(2,"On Year Completion"),e.qZA(),e._UZ(3,"input",56),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngClass",e.VKq(1,f,"INVALID"==t.updateBadgeForm.controls.yearCompletion.status&&t.updateBadgeForm.controls.yearCompletion.touched))}}function J(o,d){if(1&o&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&o){const t=d.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function E(o,d){if(1&o&&(e.TgZ(0,"div",24),e.TgZ(1,"label"),e._uU(2,"Event Participation"),e.qZA(),e.TgZ(3,"select",57),e.TgZ(4,"option",22),e._uU(5,"Select Event"),e.qZA(),e.YNc(6,J,2,2,"option",35),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngClass",e.VKq(2,f,"INVALID"==t.updateBadgeForm.controls.eventParticipation.status&&t.updateBadgeForm.controls.eventParticipation.touched)),e.xp6(3),e.Q6J("ngForOf",t.eventList)}}function O(o,d){if(1&o&&(e.TgZ(0,"div",58),e.TgZ(1,"div",59),e._UZ(2,"i",60),e._uU(3),e.qZA(),e.TgZ(4,"div",59),e._UZ(5,"i",61),e._uU(6),e.qZA(),e.TgZ(7,"div",59),e._UZ(8,"i",62),e._uU(9," Sponsored by: "),e.TgZ(10,"a",63),e._uU(11),e.qZA(),e.qZA(),e.TgZ(12,"div",59),e._UZ(13,"i",62),e._uU(14),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.hij(" Title: ",t.badgeDetails.title," "),e.xp6(3),e.hij(" Type: ",t.getBadgeType(t.badgeDetails.badgeType).name," "),e.xp6(4),e.Q6J("href",t.badgeDetails.extLink?t.badgeDetails.extLink:"#",e.LSH),e.xp6(1),e.Oqu(t.badgeDetails.companyName),e.xp6(3),e.hij(" Expiry Date: ",t.badgeDetails.expiryDate," ")}}let M=(()=>{class o{constructor(t,a,r,s){this.bmSrvc=t,this.activeRoute=a,this.fb=r,this.alertSrvc=s,this.expiryDate="",this.badgeIconBaseUrl=l.N.baseUrl+"/uploads/badge_icons/",this.companyIconBaseUrl=l.N.baseUrl+"/uploads/sponsor_company_logo/",this.badgeTypes=m.$.badgeTypes,this.eventList=[],this.badgeTypeList=m.$.badgeTypes}ngOnInit(){this.badgeId=this.activeRoute.snapshot.params.badgeId,this.getBadgeDetails(this.badgeId),this.updateBadgeForm=this.fb.group({title:["",i.kI.required],icon:["",i.kI.required],isSponsored:["",i.kI.required],companyName:[""],companyLogo:[""],extLink:[""],expiryDate:["",i.kI.required],badgeType:[""],yearCompletion:[""],eventParticipation:[""]}),this.getAllEvents()}getBadgeType(t){return this.badgeTypeList.filter(a=>a.key==t)[0]}getBadgeDetails(t){this.bmSrvc.getBadgeDetailsById(t).subscribe(a=>{a.error||(this.badgeDetails=a.data,this.setEditForm())})}setEditForm(){this.updateBadgeForm.patchValue({title:this.badgeDetails.title,icon:this.badgeDetails.icon,isSponsored:this.badgeDetails.companyName?1:0,companyName:this.badgeDetails.companyName,companyLogo:this.badgeDetails.companyLogo,extLink:this.badgeDetails.extLink,expiryDate:this.badgeDetails.expiryDate,badgeType:this.badgeDetails.badgeType,yearCompletion:this.badgeDetails.yearCompletion,eventParticipation:this.badgeDetails.eventParticipation})}readBadgeFile(t){let a=t.target;a.files&&a.files[0]&&((new FileReader).readAsDataURL(a.files[0]),this.bmSrvc.uploadBadgeIcon(a.files[0]).pipe((0,u.P)()).subscribe(s=>{s.error||this.updateBadgeForm.patchValue({icon:s.data.filename})}))}readCompanyLogo(t){let a=t.target;a.files&&a.files[0]&&((new FileReader).readAsDataURL(a.files[0]),this.bmSrvc.uploadCompanyLogo(a.files[0]).pipe((0,u.P)()).subscribe(s=>{s.error||this.updateBadgeForm.patchValue({companyLogo:s.data.filename})}))}getAllEvents(){this.bmSrvc.getEventList().subscribe(t=>{t.error||(this.eventList=t.data)})}updateBadge(t){this.bmSrvc.updateBadge(this.updateBadgeForm.value,this.badgeId).subscribe(a=>{a.error||($(window).scrollTop(0),t.resetForm(),this.alertSrvc.success("Badge updated successfully."),this.getBadgeDetails(this.badgeId))})}ngAfterViewInit(){$(".js-datepicker1").datepicker(),$(".js-datepicker1").change(()=>{this.updateBadgeForm.controls.expiryDate.setValue($(".js-datepicker1").val())})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b),e.Y36(n.gz),e.Y36(i.qu),e.Y36(A.c))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit-badge"]],decls:70,vars:21,consts:[[1,"admin-content"],["class","bg-dark m-b-30",4,"ngIf"],[1,"container","pull-up"],[1,"row"],[1,"col-lg-8"],[1,"card","m-b-30"],[1,"card-header"],[1,"media"],[1,"media-body","m-auto"],[1,"m-0"],[1,"opacity-75","text-muted"],[1,"card-controls"],[1,"card-raw"],[1,"card-body"],[1,"col-lg-12"],["autocomplete","off",3,"formGroup","ngSubmit"],["f","ngForm"],[1,"form-row"],[1,"col-md-6"],[1,"form-group"],["type","text","formControlName","title","placeholder","Badge Title",1,"form-control",3,"ngClass"],["formControlName","isSponsored",1,"form-control",3,"ngClass"],["value","","selected","","disabled",""],[3,"value"],[1,"form-group","col-md-6"],[2,"display","block"],[1,"avatar-input"],[1,"avatar","avatar-xl"],["alt","...",1,"avatar-img",3,"src"],[1,"avatar-input-icon"],[1,"mdi","mdi-progress-upload","mdi-24px"],["type","file",1,"avatar-file-picker",3,"change"],["class","form-row",4,"ngIf"],["type","text","formControlName","expiryDate","placeholder","Select Expiry Date",1,"js-datepicker1","form-control",3,"ngModel","ngModelChange"],["formControlName","badgeType",1,"form-control",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","form-group col-md-6",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"col-lg-4"],[1,"avatar","mr-2","avatar-xs"],[1,"avatar-title","bg-dark","rounded-circle"],[1,"mdi","mdi-information-variant","mdi-18px"],["class","list-group list  list-group-flush",4,"ngIf"],[1,"bg-dark","m-b-30"],[1,"container"],[1,"row","p-b-60","p-t-60"],[1,"col-md-6","text-white","p-b-30"],[1,"mt-0"],[1,"col-md-6","text-white","my-auto","text-md-right","p-b-30"],[1,""],["routerLinkActive","router-link-active",1,"btn","ml-2","mr-2","btn-primary",3,"routerLink"],[1,"mdi","mdi-account-arrow-left"],["for","mobile"],["type","text","id","phone","formControlName","companyName","placeholder","Sponsor Company Name","autocomplete","off",1,"form-control",3,"ngClass"],["type","text","formControlName","extLink","placeholder","External Link",1,"form-control",3,"ngClass"],["alt","...",1,"avatar-img1",3,"src"],["type","text","formControlName","yearCompletion","placeholder","Number of Year","autocomplete","off",1,"form-control",3,"ngClass"],["formControlName","eventParticipation",1,"form-control",3,"ngClass"],[1,"list-group","list","list-group-flush"],[1,"list-group-item"],[1,"mdi","mdi-email"],[1,"mdi","mdi-home-map-marker"],[1,"mdi","mdi","mdi-city"],["target","_blank",3,"href"]],template:function(t,a){if(1&t){const r=e.EpF();e.TgZ(0,"section",0),e.YNc(1,I,13,3,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"div",8),e.TgZ(9,"h5",9),e._uU(10," Update Badge "),e.qZA(),e._UZ(11,"div",10),e.qZA(),e.qZA(),e._UZ(12,"div",11),e.qZA(),e.TgZ(13,"div",12),e._UZ(14,"div",13),e.qZA(),e.TgZ(15,"div",14),e.TgZ(16,"div",13),e.TgZ(17,"form",15,16),e.NdJ("ngSubmit",function(){e.CHM(r);const c=e.MAs(18);return c.valid?a.updateBadge(c):""}),e.TgZ(19,"div",17),e.TgZ(20,"div",18),e.TgZ(21,"div",19),e.TgZ(22,"label"),e._uU(23,"Title"),e.qZA(),e._UZ(24,"input",20),e.qZA(),e.TgZ(25,"div",19),e.TgZ(26,"label"),e._uU(27,"Is Sponsored?"),e.qZA(),e.TgZ(28,"select",21),e.TgZ(29,"option",22),e._uU(30,"Select "),e.qZA(),e.TgZ(31,"option",23),e._uU(32,"Yes "),e.qZA(),e.TgZ(33,"option",23),e._uU(34,"No "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",24),e.TgZ(36,"label",25),e._uU(37,"Badge Logo"),e.qZA(),e.TgZ(38,"label",26),e.TgZ(39,"span",27),e._UZ(40,"img",28),e.TgZ(41,"span",29),e._UZ(42,"i",30),e.qZA(),e.qZA(),e.TgZ(43,"input",31),e.NdJ("change",function(c){return a.readBadgeFile(c)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(44,D,19,7,"div",32),e.TgZ(45,"div",17),e.TgZ(46,"div",24),e.TgZ(47,"label"),e._uU(48,"Expiry Date"),e.qZA(),e.TgZ(49,"input",33),e.NdJ("ngModelChange",function(c){return a.expiryDate=c}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",17),e.TgZ(51,"div",24),e.TgZ(52,"label"),e._uU(53,"Badge Type"),e.qZA(),e.TgZ(54,"select",34),e.TgZ(55,"option",22),e._uU(56,"Select Badge Type"),e.qZA(),e.YNc(57,N,2,2,"option",35),e.qZA(),e.qZA(),e.YNc(58,S,4,3,"div",36),e.YNc(59,E,7,4,"div",36),e.qZA(),e.TgZ(60,"button",37),e._uU(61,"Update Badge"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"div",38),e.TgZ(63,"div",5),e.TgZ(64,"div",6),e.TgZ(65,"div",39),e.TgZ(66,"div",40),e._UZ(67,"i",41),e.qZA(),e.qZA(),e._uU(68," Badge Details "),e.qZA(),e.YNc(69,O,15,5,"div",42),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const r=e.MAs(18);e.xp6(1),e.Q6J("ngIf",a.badgeDetails),e.xp6(16),e.Q6J("formGroup",a.updateBadgeForm),e.xp6(7),e.Q6J("ngClass",e.VKq(15,f,"INVALID"==a.updateBadgeForm.controls.title.status&&a.updateBadgeForm.controls.title.touched)),e.xp6(4),e.Q6J("ngClass",e.VKq(17,f,"INVALID"==a.updateBadgeForm.controls.isSponsored.status&&a.updateBadgeForm.controls.isSponsored.touched)),e.xp6(3),e.Q6J("value",1),e.xp6(2),e.Q6J("value",0),e.xp6(7),e.Q6J("src",a.updateBadgeForm.value.icon?a.badgeIconBaseUrl+a.updateBadgeForm.value.icon:"assets/img/badges/default.jpg",e.LSH),e.xp6(4),e.Q6J("ngIf",a.updateBadgeForm.value.isSponsored),e.xp6(5),e.Q6J("ngModel",a.expiryDate),e.xp6(5),e.Q6J("ngClass",e.VKq(19,f,"INVALID"==a.updateBadgeForm.controls.badgeType.status&&a.updateBadgeForm.controls.badgeType.touched)),e.xp6(3),e.Q6J("ngForOf",a.badgeTypes),e.xp6(1),e.Q6J("ngIf",1==a.updateBadgeForm.value.badgeType),e.xp6(1),e.Q6J("ngIf",2==a.updateBadgeForm.value.badgeType||3==a.updateBadgeForm.value.badgeType),e.xp6(1),e.Q6J("disabled",r.invalid),e.xp6(9),e.Q6J("ngIf",a.badgeDetails)}},directives:[p.O5,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,p.mk,i.EJ,i.YN,i.Kr,p.sg,n.yS,n.Od],styles:["span.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:5px;border:4px solid #c1c4cd}"]}),o})();var k=g(7288),Q=g(5938);const w=function(o){return["/bm/edit-badge",o]};function V(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.TgZ(4,"span",14),e._UZ(5,"img",15),e.qZA(),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e.TgZ(11,"a",16),e._UZ(12,"i",17),e.qZA(),e.TgZ(13,"a",18),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteById(s.id)}),e._UZ(14,"i",19),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=d.$implicit,a=e.oxw();e.xp6(2),e.Oqu(t.title),e.xp6(3),e.Q6J("src",a.badgeImageBaseUrl+t.icon,e.LSH),e.xp6(2),e.Oqu(a.getBadgeType(t.badgeType).name),e.xp6(1),e.Gre("status ",a.getStatus(t.status).name,""),e.xp6(1),e.Oqu(a.getStatus(t.status).name),e.xp6(2),e.Q6J("routerLink",e.VKq(8,w,t.id))}}const Y=[{path:"create-badge",canActivate:[v.a],component:F},{path:"edit-badge/:badgeId",canActivate:[v.a],component:M},{path:"view-badges",canActivate:[v.a],component:(()=>{class o{constructor(t,a,r){this.badgeSrvc=t,this.alertSrvc=a,this.dialog=r,this.allBadgeList=[],this.statusList=m.$.badgeStatus,this.badgeTypeList=m.$.badgeTypes,this.badgeImageBaseUrl=l.N.baseUrl+"/uploads/badge_icons/"}ngOnInit(){this.getAllBadges()}getAllBadges(){this.badgeSrvc.getAllBadgeList().subscribe(t=>{t.error||(this.allBadgeList=t.data,this.initiateDataTable())})}initiateDataTable(){setTimeout(()=>{$("#member").DataTable({aaSorting:[]})},200)}getStatus(t){return this.statusList.filter(a=>a.key==t)[0]}getBadgeType(t){return this.badgeTypeList.filter(a=>a.key==t)[0]}deleteById(t){this.dialog.open(k.a,{width:"400px",disableClose:!0,data:{message:"Are you sure to delete the badge?"}}).afterClosed().subscribe(r=>{r&&this.badgeSrvc.deleteById(t).subscribe(s=>{s.error||(this.alertSrvc.success("Event deleted successfully."),this.badgeSrvc.getAllBadgeList().subscribe(c=>{c.error||(this.allBadgeList=c.data)}))})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b),e.Y36(A.c),e.Y36(Q.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-badges"]],decls:29,vars:1,consts:[[1,"admin-content"],[1,"bg-dark"],[1,"container","m-b-30"],[1,"row"],[1,"col-12","text-white","p-t-40","p-b-90"],[1,""],[1,"opacity-75"],[1,"container","pull-up"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"table-responsive","p-t-10"],["id","member",1,"table",2,"width","100%"],[4,"ngFor","ngForOf"],[1,"avatar","avatar-l"],["alt","...",1,"avatar-img",3,"src"],["routerLinkActive","router-link-active",2,"font-size","18px","padding","5px",3,"routerLink"],["title","Edit","alt","Edit",1,"mdi","mdi-square-edit-outline"],[2,"font-size","18px","cursor","pointer",3,"click"],["title","delete","alt","delete",1,"mdi","mdi-delete-circle-outline"]],template:function(t,a){1&t&&(e.TgZ(0,"section",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"h4",5),e._uU(6,"View Badges"),e.qZA(),e._UZ(7,"p",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"div",3),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e.TgZ(12,"div",10),e.TgZ(13,"div",11),e.TgZ(14,"table",12),e.TgZ(15,"thead"),e.TgZ(16,"tr"),e.TgZ(17,"th"),e._uU(18,"Title"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Icon"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Type"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Status"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"tbody"),e.YNc(28,V,15,10,"tr",13),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(28),e.Q6J("ngForOf",a.allBadgeList))},directives:[p.sg,n.yS,n.Od],styles:[".Cancelled.status[_ngcontent-%COMP%]{color:red}.Ongoing.status[_ngcontent-%COMP%]{color:#00e08b}.Past.status[_ngcontent-%COMP%]{color:gray}td.sorting_1[_ngcontent-%COMP%]{background-color:transparent}td[_ngcontent-%COMP%]{vertical-align:middle}"]}),o})()}];let R=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[n.Bz.forChild(Y)],n.Bz]}),o})(),K=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.ez,R,i.u5,i.UX]]}),o})()}}]);