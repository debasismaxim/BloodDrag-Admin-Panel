"use strict";(self.webpackChunkblood_drag_admin_panel=self.webpackChunkblood_drag_admin_panel||[]).push([[565],{9565:(N,g,l)=>{l.r(g),l.d(g,{CarManagementModule:()=>S});var u=l(8583),p=l(7179),Z=l(5566),r=l(3679),M=l(7288),e=l(7716),c=l(8002),m=l(2340),v=l(1841);let h=(()=>{class a{constructor(t){this.http=t}getAllMake(){return this.http.get(`${m.N.apiUrl}/makes/getAll`).pipe((0,c.U)(t=>t))}getMakeDetailsById(t){return this.http.get(`${m.N.apiUrl}/makes/get/${t}`).pipe((0,c.U)(i=>i))}updateMakeDetails(t,i){return this.http.post(`${m.N.apiUrl}/makes/update/${i}`,t).pipe((0,c.U)(o=>o))}createMake(t){return this.http.post(`${m.N.apiUrl}/makes/create`,t).pipe((0,c.U)(i=>i))}deleteMakeById(t){return this.http.get(`${m.N.apiUrl}/makes/delete/${t}`).pipe((0,c.U)(i=>i))}getAllModels(){return this.http.get(`${m.N.apiUrl}/models/getAll`).pipe((0,c.U)(t=>t))}getModelDetailsById(t){return this.http.get(`${m.N.apiUrl}/models/get/${t}`).pipe((0,c.U)(i=>i))}updateModelDetails(t,i){return this.http.post(`${m.N.apiUrl}/models/update/${i}`,t).pipe((0,c.U)(o=>o))}createModel(t){return this.http.post(`${m.N.apiUrl}/models/create`,t).pipe((0,c.U)(i=>i))}deleteModelById(t){return this.http.get(`${m.N.apiUrl}/models/delete/${t}`).pipe((0,c.U)(i=>i))}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(v.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var A=l(4853),f=l(5938);function q(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e.TgZ(6,"a",30),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().setEditForm(d)}),e._UZ(7,"i",31),e.qZA(),e.TgZ(8,"a",32),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().deleteById(d.id)}),e._UZ(9,"i",33),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=s.$implicit,i=s.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.name)}}const k=function(a){return{"is-invalid":a}};function _(a,s){if(1&a&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&a){const t=s.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.name)}}function U(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"a",35),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().setEditForm(d)}),e._UZ(9,"i",36),e.qZA(),e.TgZ(10,"a",37),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().deleteById(d.id)}),e._UZ(11,"i",38),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=s.$implicit,i=s.index,o=e.oxw();e.xp6(2),e.Oqu(i+1),e.xp6(2),e.hij(" ",o.getMakeNameById(t.makeId)," "),e.xp6(2),e.Oqu(t.name)}}const T=function(a){return{"is-invalid":a}},y=[{path:"manage-make",canActivate:[Z.a],component:(()=>{class a{constructor(t,i,o,d){this.csSrvc=t,this.alertSrvc=i,this.fb=o,this.dialog=d,this.allMakeList=[],this.firstLoad=!0}ngOnInit(){this.getAllMake(),this.updateMakeForm=this.fb.group({name:["",r.kI.required]})}setMakeForm(){this.updateMakeForm.patchValue({name:this.makeDetails.name})}setEditForm(t){this.makeDetails=t,this.makeId=t.id,this.setMakeForm()}getAllMake(){this.csSrvc.getAllMake().subscribe(t=>{t.error||(this.allMakeList=t.data,this.firstLoad&&(this.initiateDataTable(),this.firstLoad=!1))})}updateType(t){let i=JSON.parse(JSON.stringify(this.updateMakeForm.value));this.makeId?this.csSrvc.updateMakeDetails(i,this.makeId).subscribe(o=>{o.error||($(window).scrollTop(0),this.makeId=void 0,t.resetForm(),this.alertSrvc.success("Make updated successfully."),this.getAllMake())}):this.csSrvc.createMake(i).subscribe(o=>{o.error||($(window).scrollTop(0),t.resetForm(),this.alertSrvc.success("Make Created successfully."),this.getAllMake())})}initiateDataTable(){setTimeout(()=>{$("#member").DataTable({aaSorting:[]})},200)}deleteById(t){this.dialog.open(M.a,{width:"400px",disableClose:!0,data:{message:"Are you sure to delete the Make?"}}).afterClosed().subscribe(o=>{o&&this.csSrvc.deleteMakeById(t).subscribe(d=>{d.error||(this.alertSrvc.success("Make deleted successfully."),this.csSrvc.getAllMake().subscribe(n=>{n.error||(this.allMakeList=n.data)}))})})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(h),e.Y36(A.c),e.Y36(r.qu),e.Y36(f.uw))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-manage-make"]],decls:54,vars:7,consts:[[1,"admin-content"],[1,"bg-dark"],[1,"container","m-b-30"],[1,"row"],[1,"col-12","text-white","p-t-40","p-b-90"],[1,""],[1,"opacity-75"],[1,"container","pull-up"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"media"],[1,"media-body","m-auto"],[1,"m-0"],[1,"opacity-75","text-muted"],[1,"card-controls"],[1,"card-body"],[1,"col-md-6","offset-md-3"],["autocomplete","off",3,"formGroup","ngSubmit"],["f","ngForm"],[1,"form-row","m-b-20"],[1,"form-group","col-md-12"],["for","mobile"],["type","text","id","phone","formControlName","name","placeholder","Enter Make Name",1,"form-control",3,"ngClass"],[1,"text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"col-12","m-t-20"],[1,"table-responsive","p-t-10"],["id","member",1,"table",2,"width","100%"],[4,"ngFor","ngForOf"],[2,"font-size","18px","padding","5px","cursor","pointer",3,"click"],["title","Edit","alt","Edit",1,"mdi","mdi-square-edit-outline"],[2,"font-size","18px","cursor","pointer",3,"click"],["title","delete","alt","delete",1,"mdi","mdi-delete-circle-outline"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"section",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"h4",5),e._uU(6,"Manage Make"),e.qZA(),e._UZ(7,"p",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"div",3),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e.TgZ(12,"div",10),e.TgZ(13,"div",11),e.TgZ(14,"div",12),e.TgZ(15,"h5",13),e._uU(16," Manage Make "),e.qZA(),e._UZ(17,"div",14),e.qZA(),e.qZA(),e._UZ(18,"div",15),e.qZA(),e.TgZ(19,"div",16),e.TgZ(20,"div",3),e.TgZ(21,"div",17),e.TgZ(22,"form",18,19),e.NdJ("ngSubmit",function(){e.CHM(o);const n=e.MAs(23);return n.valid?i.updateType(n):""}),e.TgZ(24,"div",20),e.TgZ(25,"div",21),e.TgZ(26,"label",22),e._uU(27,"Make"),e.qZA(),e._UZ(28,"input",23),e.qZA(),e.qZA(),e.TgZ(29,"div",24),e.TgZ(30,"button",25),e._uU(31),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",26),e.TgZ(33,"div",9),e.TgZ(34,"div",10),e.TgZ(35,"div",11),e.TgZ(36,"div",12),e.TgZ(37,"h5",13),e._uU(38," Make List "),e.qZA(),e._UZ(39,"div",14),e.qZA(),e.qZA(),e._UZ(40,"div",15),e.qZA(),e.TgZ(41,"div",16),e.TgZ(42,"div",27),e.TgZ(43,"table",28),e.TgZ(44,"thead"),e.TgZ(45,"tr"),e.TgZ(46,"th"),e._uU(47,"#"),e.qZA(),e.TgZ(48,"th"),e._uU(49,"Make"),e.qZA(),e.TgZ(50,"th"),e._uU(51,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(52,"tbody"),e.YNc(53,q,10,2,"tr",29),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const o=e.MAs(23);e.xp6(22),e.Q6J("formGroup",i.updateMakeForm),e.xp6(6),e.Q6J("ngClass",e.VKq(5,k,"INVALID"==i.updateMakeForm.controls.name.status&&i.updateMakeForm.controls.name.touched)),e.xp6(2),e.Q6J("disabled",o.invalid),e.xp6(1),e.Oqu(i.makeId?"Update":"Create"),e.xp6(22),e.Q6J("ngForOf",i.allMakeList)}},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,u.mk,u.sg],styles:[""]}),a})()},{path:"manage-model",canActivate:[Z.a],component:(()=>{class a{constructor(t,i,o,d){this.csSrvc=t,this.alertSrvc=i,this.fb=o,this.dialog=d,this.allModelsList=[],this.makeList=[],this.firstLoad=!0,this.expiryDate=""}ngOnInit(){this.getAllModels(),this.getAllMake(),this.updateModelForm=this.fb.group({makeId:["",r.kI.required],name:["",r.kI.required]})}setModelForm(){this.updateModelForm.patchValue({makeId:this.modelDetails.makeId,name:this.modelDetails.name})}setEditForm(t){this.modelDetails=t,this.modelId=t.id,this.setModelForm()}getAllMake(){this.csSrvc.getAllMake().subscribe(t=>{t.error||(this.makeList=t.data)})}getAllModels(){this.csSrvc.getAllModels().subscribe(t=>{t.error||(this.allModelsList=t.data,this.firstLoad&&(this.initiateDataTable(),this.firstLoad=!1))})}updateModel(t){let i=JSON.parse(JSON.stringify(this.updateModelForm.value));this.modelId?this.csSrvc.updateModelDetails(i,this.modelId).subscribe(o=>{o.error||($(window).scrollTop(0),this.modelId=void 0,t.resetForm(),this.alertSrvc.success("Model updated successfully."),this.getAllModels())}):this.csSrvc.createModel(i).subscribe(o=>{o.error||($(window).scrollTop(0),t.resetForm(),this.alertSrvc.success("Model Created successfully."),this.getAllModels())})}initiateDataTable(){setTimeout(()=>{$("#member").DataTable({aaSorting:[]})},200)}deleteById(t){this.dialog.open(M.a,{width:"400px",disableClose:!0,data:{message:"Are you sure to delete the Model?"}}).afterClosed().subscribe(o=>{o&&this.csSrvc.deleteModelById(t).subscribe(d=>{d.error||(this.alertSrvc.success("Model deleted successfully."),this.csSrvc.getAllModels().subscribe(n=>{n.error||(this.allModelsList=n.data)}))})})}getMakeNameById(t){return t&&this.makeList?this.makeList.filter(i=>i.id==t)[0].name:[]}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(h),e.Y36(A.c),e.Y36(r.qu),e.Y36(f.uw))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-manage-model"]],decls:64,vars:12,consts:[[1,"admin-content"],[1,"bg-dark"],[1,"container","m-b-30"],[1,"row"],[1,"col-12","text-white","p-t-40","p-b-90"],[1,""],[1,"opacity-75"],[1,"container","pull-up"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"media"],[1,"media-body","m-auto"],[1,"m-0"],[1,"opacity-75","text-muted"],[1,"card-controls"],[1,"card-body"],[1,"col-md-12"],["autocomplete","off",3,"formGroup","ngSubmit"],["f","ngForm"],[1,"form-row","m-b-20"],[1,"form-group","col-md-6","offset-md-3"],["for","username"],["required","","formControlName","makeId","id","type-dropdown",1,"form-control",3,"ngClass"],["selected","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","code"],["type","text","id","code","formControlName","name","placeholder","Enter Model",1,"form-control",3,"ngClass"],[1,"text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"col-12","m-t-20"],[1,"table-responsive","p-t-10"],["id","member",1,"table",2,"width","100%"],[4,"ngFor","ngForOf"],[3,"ngValue"],[2,"font-size","18px","padding","5px","cursor","pointer",3,"click"],["title","Edit","alt","Edit",1,"mdi","mdi-square-edit-outline"],[2,"font-size","18px","cursor","pointer",3,"click"],["title","delete","alt","delete",1,"mdi","mdi-delete-circle-outline"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"section",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"h4",5),e._uU(6,"Manage Models"),e.qZA(),e._UZ(7,"p",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"div",3),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e.TgZ(12,"div",10),e.TgZ(13,"div",11),e.TgZ(14,"div",12),e.TgZ(15,"h5",13),e._uU(16," Manage Model "),e.qZA(),e._UZ(17,"div",14),e.qZA(),e.qZA(),e._UZ(18,"div",15),e.qZA(),e.TgZ(19,"div",16),e.TgZ(20,"div",3),e.TgZ(21,"div",17),e.TgZ(22,"form",18,19),e.NdJ("ngSubmit",function(){e.CHM(o);const n=e.MAs(23);return n.valid?i.updateModel(n):""}),e.TgZ(24,"div",20),e.TgZ(25,"div",21),e.TgZ(26,"label",22),e._uU(27,"Make"),e.qZA(),e.TgZ(28,"select",23),e.TgZ(29,"option",24),e._uU(30,"Select Make"),e.qZA(),e.YNc(31,_,2,2,"option",25),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",20),e.TgZ(33,"div",21),e.TgZ(34,"label",26),e._uU(35,"Model"),e.qZA(),e._UZ(36,"input",27),e.qZA(),e.qZA(),e.TgZ(37,"div",28),e.TgZ(38,"button",29),e._uU(39),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",30),e.TgZ(41,"div",9),e.TgZ(42,"div",10),e.TgZ(43,"div",11),e.TgZ(44,"div",12),e.TgZ(45,"h5",13),e._uU(46," Model List "),e.qZA(),e._UZ(47,"div",14),e.qZA(),e.qZA(),e._UZ(48,"div",15),e.qZA(),e.TgZ(49,"div",16),e.TgZ(50,"div",31),e.TgZ(51,"table",32),e.TgZ(52,"thead"),e.TgZ(53,"tr"),e.TgZ(54,"th"),e._uU(55,"#"),e.qZA(),e.TgZ(56,"th"),e._uU(57,"Make"),e.qZA(),e.TgZ(58,"th"),e._uU(59,"Model"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"tbody"),e.YNc(63,U,12,3,"tr",33),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const o=e.MAs(23);e.xp6(22),e.Q6J("formGroup",i.updateModelForm),e.xp6(6),e.Q6J("ngClass",e.VKq(8,T,"INVALID"==i.updateModelForm.controls.makeId.status&&i.updateModelForm.controls.makeId.touched)),e.xp6(1),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngForOf",i.makeList),e.xp6(5),e.Q6J("ngClass",e.VKq(10,T,"INVALID"==i.updateModelForm.controls.name.status&&i.updateModelForm.controls.name.touched)),e.xp6(2),e.Q6J("disabled",o.invalid),e.xp6(1),e.Oqu(i.modelId?"Update":"Create"),e.xp6(24),e.Q6J("ngForOf",i.allModelsList)}},directives:[r._Y,r.JL,r.sg,r.EJ,r.Q7,r.JJ,r.u,u.mk,r.YN,r.Kr,u.sg,r.Fj],styles:[""]}),a})()}];let F=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[p.Bz.forChild(y)],p.Bz]}),a})();var x=l(1948),I=l(455);let S=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[u.ez,F,r.u5,r.UX,x.Fk,I.rP]]}),a})()}}]);