"use strict";(self.webpackChunkblood_drag_admin_panel=self.webpackChunkblood_drag_admin_panel||[]).push([[519],{5566:(A,u,n)=>{n.d(u,{a:()=>t});var l=n(7716),g=n(7179),v=n(5643);let t=(()=>{class s{constructor(p,d){this.router=p,this.authService=d}canActivate(p,d){return!!this.authService.authValue||(this.router.navigate(["/login"],{queryParams:{returnUrl:d.url}}),!1)}}return s.\u0275fac=function(p){return new(p||s)(l.LFG(g.F0),l.LFG(v.e))},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},519:(A,u,n)=>{n.r(u),n.d(u,{ParticipantManagementModule:()=>O});var l=n(8583),g=n(7179),v=n(5566),t=n(7716);let s=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-participant-details"]],decls:2,vars:0,template:function(e,a){1&e&&(t.TgZ(0,"p"),t._uU(1,"participant-details works!"),t.qZA())},styles:[""]}),i})();var Z=n(4292),p=n(7288),d=n(4767),m=n(8002),h=n(2340),f=n(1841);let T=(()=>{class i{constructor(e){this.http=e}getAllParticipantList(e){return this.http.post(`${h.N.apiUrl}/events/getAllParticipantRequests`,{eventId:e}).pipe((0,m.U)(a=>a))}approveRejectParticipant(e){return this.http.post(`${h.N.apiUrl}/events/getAllParticipantRequests`,{eventId:e}).pipe((0,m.U)(a=>a))}getEventList(){return this.http.get(`${h.N.apiUrl}/events/getAll?status=1&selectField=${["id","name","startDate","endDate"]}`).pipe((0,m.U)(a=>a))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(f.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var P=n(4853),q=n(5938),c=n(3679);function U(i,r){if(1&i&&(t.TgZ(0,"option",22),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(null==e?null:e.name)}}function C(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"a",26),t._UZ(11,"i",27),t.qZA(),t.TgZ(12,"a",28),t._UZ(13,"i",29),t.qZA(),t.TgZ(14,"a",28),t._UZ(15,"i",30),t.qZA(),t.TgZ(16,"a",31),t._UZ(17,"i",32),t.qZA(),t.qZA(),t.qZA()),2&i){const e=r.$implicit,a=r.index,o=t.oxw(2);t.xp6(2),t.Oqu(a+1),t.xp6(2),t.Oqu(e.userData.firstName+" "+e.userData.lastName),t.xp6(2),t.Oqu(e.carData.make+" "+e.carData.model),t.xp6(1),t.Gre("status ",o.getStatus(e.status).name,""),t.xp6(1),t.Oqu(o.getStatus(e.status).name)}}function M(i,r){if(1&i&&(t.TgZ(0,"div",9),t.TgZ(1,"div",12),t.TgZ(2,"div",23),t.TgZ(3,"table",24),t.TgZ(4,"thead"),t.TgZ(5,"tr"),t.TgZ(6,"th"),t._uU(7,"#"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Participant Name "),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Car"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Status"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Action"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"tbody"),t.YNc(17,C,18,7,"tr",25),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(17),t.Q6J("ngForOf",e.allPariticipantList)}}const y=[{path:"view-participants",canActivate:[v.a],component:(()=>{class i{constructor(e,a,o){this.participantSrvc=e,this.alertSrvc=a,this.dialog=o,this.allPariticipantList=[],this.eventList=[],this.statusList=Z.$.participantStatus,this.selectedEvent="",this.firstLoad=!0}ngOnInit(){this.getEventList()}getAllParticipants(e){this.participantSrvc.getAllParticipantList(e).subscribe(a=>{a.error||(this.allPariticipantList=a.data,this.allPariticipantList.length?this.firstLoad&&(this.firstLoad=!1,this.initiateDataTable()):this.dialog.open(d.I,{width:"400px",disableClose:!0,data:{message:"No participants requested for this event"}}))})}getEventList(){this.participantSrvc.getEventList().subscribe(e=>{e.error||(this.eventList=e.data)})}initiateDataTable(){setTimeout(()=>{$("#member").DataTable({aaSorting:[]})},200)}getStatus(e){return this.statusList.filter(a=>a.key==e)[0]}approveRejectParticipant(e,a){this.dialog.open(p.a,{width:"400px",disableClose:!0,data:{message:`Are you sure to ${2==a?"approve":"reject"} this participant?`}})}getEventNameById(e){var a;return null===(a=this.eventList.filter(o=>o.id==e)[0])||void 0===a?void 0:a.name}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(T),t.Y36(P.c),t.Y36(q.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-view-participants"]],decls:28,vars:4,consts:[[1,"admin-content"],[1,"bg-dark"],[1,"container","m-b-30"],[1,"row"],[1,"col-12","text-white","p-t-40","p-b-90"],[1,""],[1,"opacity-75"],[1,"container","pull-up"],[1,"col-12"],[1,"card","mb-4"],[1,"card-header"],[1,"card-controls"],[1,"card-body"],[1,"col-md-6","offset-md-3"],[1,"form-row","m-b-20"],["for","username"],["required","","id","event-dropdown",1,"form-control",3,"ngModel","ngModelChange"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"text-center"],["type","submit",1,"btn","btn-primary","mb-4",3,"disabled","click"],["class","card mb-4",4,"ngIf"],[3,"value"],[1,"table-responsive","p-t-10"],["id","member",1,"table",2,"width","100%"],[4,"ngFor","ngForOf"],[2,"font-size","18px"],["title","View Details","alt","View Details",1,"mdi","mdi-invert-colors"],[2,"font-size","18px","padding","5px","cursor","pointer"],["title","Approve","alt","Approve",1,"mdi","mdi-checkbox-marked-circle"],["title","Reject","alt","Reject",1,"mdi","mdi-close-circle"],[2,"font-size","18px","cursor","pointer"],["title","delete","alt","delete",1,"mdi","mdi-delete-circle-outline"]],template:function(e,a){1&e&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"h4",5),t._uU(6,"View Participants"),t.qZA(),t._UZ(7,"p",6),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",7),t.TgZ(9,"div",3),t.TgZ(10,"div",8),t.TgZ(11,"div",9),t.TgZ(12,"div",10),t._UZ(13,"div",11),t.qZA(),t.TgZ(14,"div",12),t.TgZ(15,"div",3),t.TgZ(16,"div",13),t.TgZ(17,"div",14),t.TgZ(18,"label",15),t._uU(19,"Please select event to view the corresponding participants"),t.qZA(),t.TgZ(20,"select",16),t.NdJ("ngModelChange",function(D){return a.selectedEvent=D}),t.TgZ(21,"option",17),t._uU(22,"Select Event"),t.qZA(),t.YNc(23,U,2,2,"option",18),t.qZA(),t.qZA(),t.TgZ(24,"div",19),t.TgZ(25,"button",20),t.NdJ("click",function(){return a.getAllParticipants(a.selectedEvent)}),t._uU(26,"Get Participants"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(27,M,18,1,"div",21),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(20),t.Q6J("ngModel",a.selectedEvent),t.xp6(3),t.Q6J("ngForOf",a.eventList),t.xp6(2),t.Q6J("disabled",!a.selectedEvent),t.xp6(2),t.Q6J("ngIf",a.allPariticipantList&&a.allPariticipantList.length))},directives:[c.EJ,c.Q7,c.JJ,c.On,c.YN,c.Kr,l.sg,l.O5],styles:[".Rejected.status[_ngcontent-%COMP%]{color:red}.Approved.status[_ngcontent-%COMP%]{color:#00e08b}.Pending.status[_ngcontent-%COMP%]{color:#00f}"]}),i})()},{path:"participant-details",canActivate:[v.a],component:s}];let b=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[g.Bz.forChild(y)],g.Bz]}),i})(),O=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[l.ez,b,c.u5,c.UX]]}),i})()}}]);