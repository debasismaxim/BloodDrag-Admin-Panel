"use strict";(self.webpackChunkblood_drag_admin_panel=self.webpackChunkblood_drag_admin_panel||[]).push([[519],{7288:(h,g,o)=>{o.d(g,{a:()=>m});var s=o(5938),a=o(7716);let m=(()=>{class t{constructor(c,p){this.data=c,this.dialogRef=p}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return t.\u0275fac=function(c){return new(c||t)(a.Y36(s.WI),a.Y36(s.so))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-delete-confirm-dialog"]],decls:10,vars:3,consts:[[1,"container"],[1,"row","position-relative"],[1,"h6","text-center"],[1,"text-center"],[1,"btn","btn-sm","custom-blue",3,"mat-dialog-close"],[1,"btn","btn-sm","custom-red","ml-2",3,"mat-dialog-close"]],template:function(c,p){1&c&&(a.TgZ(0,"div",0),a._UZ(1,"div",1),a.TgZ(2,"mat-dialog-content"),a.TgZ(3,"p",2),a._uU(4),a.qZA(),a.qZA(),a.TgZ(5,"div",3),a.TgZ(6,"button",4),a._uU(7,"NO"),a.qZA(),a.TgZ(8,"button",5),a._uU(9,"YES"),a.qZA(),a.qZA(),a.qZA()),2&c&&(a.xp6(4),a.Oqu(p.data.message),a.xp6(2),a.Q6J("mat-dialog-close",!1),a.xp6(2),a.Q6J("mat-dialog-close",!0))},directives:[s.xY,s.ZT],styles:[".close-btn[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}.custom-blue[_ngcontent-%COMP%]{background-color:#00f;color:#fff}.custom-red[_ngcontent-%COMP%]{background-color:red;color:#fff}"]}),t})()},5566:(h,g,o)=>{o.d(g,{a:()=>t});var s=o(7716),a=o(7179),m=o(5643);let t=(()=>{class l{constructor(p,v){this.router=p,this.authService=v}canActivate(p,v){return!!this.authService.authValue||(this.router.navigate(["/login"],{queryParams:{returnUrl:v.url}}),!1)}}return l.\u0275fac=function(p){return new(p||l)(s.LFG(a.F0),s.LFG(m.e))},l.\u0275prov=s.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},519:(h,g,o)=>{o.r(g),o.d(g,{ParticipantManagementModule:()=>O});var s=o(8583),a=o(7179),m=o(5566),t=o(7716);let l=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-participant-details"]],decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"participant-details works!"),t.qZA())},styles:[""]}),i})();var c=o(4292),p=o(7288),v=o(4767),Z=o(8002),f=o(2340),A=o(1841);let T=(()=>{class i{constructor(e){this.http=e}getAllParticipantList(e){return this.http.post(`${f.N.apiUrl}/events/getAllParticipantRequests`,{eventId:e}).pipe((0,Z.U)(n=>n))}approveRejectParticipant(e){return this.http.post(`${f.N.apiUrl}/events/getAllParticipantRequests`,{eventId:e}).pipe((0,Z.U)(n=>n))}getEventList(){return this.http.get(`${f.N.apiUrl}/events/getAll?status=1&selectField=${["id","name","startDate","endDate"]}`).pipe((0,Z.U)(n=>n))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(A.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var P=o(4853),q=o(5938),u=o(3679);function _(i,r){if(1&i&&(t.TgZ(0,"option",22),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(null==e?null:e.name)}}function C(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"a",26),t._UZ(11,"i",27),t.qZA(),t.TgZ(12,"a",28),t._UZ(13,"i",29),t.qZA(),t.TgZ(14,"a",28),t._UZ(15,"i",30),t.qZA(),t.TgZ(16,"a",31),t._UZ(17,"i",32),t.qZA(),t.qZA(),t.qZA()),2&i){const e=r.$implicit,n=r.index,d=t.oxw(2);t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(e.userData.firstName+" "+e.userData.lastName),t.xp6(2),t.Oqu(e.carData.make+" "+e.carData.model),t.xp6(1),t.Gre("status ",d.getStatus(e.status).name,""),t.xp6(1),t.Oqu(d.getStatus(e.status).name)}}function U(i,r){if(1&i&&(t.TgZ(0,"div",9),t.TgZ(1,"div",12),t.TgZ(2,"div",23),t.TgZ(3,"table",24),t.TgZ(4,"thead"),t.TgZ(5,"tr"),t.TgZ(6,"th"),t._uU(7,"#"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Participant Name "),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Car"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Status"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Action"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"tbody"),t.YNc(17,C,18,7,"tr",25),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(17),t.Q6J("ngForOf",e.allPariticipantList)}}const D=[{path:"view-participants",canActivate:[m.a],component:(()=>{class i{constructor(e,n,d){this.participantSrvc=e,this.alertSrvc=n,this.dialog=d,this.allPariticipantList=[],this.eventList=[],this.statusList=c.$.participantStatus,this.selectedEvent="",this.firstLoad=!0}ngOnInit(){this.getEventList()}getAllParticipants(e){this.participantSrvc.getAllParticipantList(e).subscribe(n=>{n.error||(this.allPariticipantList=n.data,this.allPariticipantList.length?this.firstLoad&&(this.firstLoad=!1,this.initiateDataTable()):this.dialog.open(v.I,{width:"400px",disableClose:!0,data:{message:"No participants requested for this event"}}))})}getEventList(){this.participantSrvc.getEventList().subscribe(e=>{e.error||(this.eventList=e.data)})}initiateDataTable(){setTimeout(()=>{$("#member").DataTable({aaSorting:[]})},200)}getStatus(e){return this.statusList.filter(n=>n.key==e)[0]}approveRejectParticipant(e,n){this.dialog.open(p.a,{width:"400px",disableClose:!0,data:{message:`Are you sure to ${2==n?"approve":"reject"} this participant?`}})}getEventNameById(e){var n;return null===(n=this.eventList.filter(d=>d.id==e)[0])||void 0===n?void 0:n.name}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(T),t.Y36(P.c),t.Y36(q.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-view-participants"]],decls:28,vars:4,consts:[[1,"admin-content"],[1,"bg-dark"],[1,"container","m-b-30"],[1,"row"],[1,"col-12","text-white","p-t-40","p-b-90"],[1,""],[1,"opacity-75"],[1,"container","pull-up"],[1,"col-12"],[1,"card","mb-4"],[1,"card-header"],[1,"card-controls"],[1,"card-body"],[1,"col-md-6","offset-md-3"],[1,"form-row","m-b-20"],["for","username"],["required","","id","event-dropdown",1,"form-control",3,"ngModel","ngModelChange"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"text-center"],["type","submit",1,"btn","btn-primary","mb-4",3,"disabled","click"],["class","card mb-4",4,"ngIf"],[3,"value"],[1,"table-responsive","p-t-10"],["id","member",1,"table",2,"width","100%"],[4,"ngFor","ngForOf"],[2,"font-size","18px"],["title","View Details","alt","View Details",1,"mdi","mdi-invert-colors"],[2,"font-size","18px","padding","5px","cursor","pointer"],["title","Approve","alt","Approve",1,"mdi","mdi-checkbox-marked-circle"],["title","Reject","alt","Reject",1,"mdi","mdi-close-circle"],[2,"font-size","18px","cursor","pointer"],["title","delete","alt","delete",1,"mdi","mdi-delete-circle-outline"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"h4",5),t._uU(6,"View Participants"),t.qZA(),t._UZ(7,"p",6),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",7),t.TgZ(9,"div",3),t.TgZ(10,"div",8),t.TgZ(11,"div",9),t.TgZ(12,"div",10),t._UZ(13,"div",11),t.qZA(),t.TgZ(14,"div",12),t.TgZ(15,"div",3),t.TgZ(16,"div",13),t.TgZ(17,"div",14),t.TgZ(18,"label",15),t._uU(19,"Please select event to view the corresponding participants"),t.qZA(),t.TgZ(20,"select",16),t.NdJ("ngModelChange",function(L){return n.selectedEvent=L}),t.TgZ(21,"option",17),t._uU(22,"Select Event"),t.qZA(),t.YNc(23,_,2,2,"option",18),t.qZA(),t.qZA(),t.TgZ(24,"div",19),t.TgZ(25,"button",20),t.NdJ("click",function(){return n.getAllParticipants(n.selectedEvent)}),t._uU(26,"Get Participants"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(27,U,18,1,"div",21),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(20),t.Q6J("ngModel",n.selectedEvent),t.xp6(3),t.Q6J("ngForOf",n.eventList),t.xp6(2),t.Q6J("disabled",!n.selectedEvent),t.xp6(2),t.Q6J("ngIf",n.allPariticipantList&&n.allPariticipantList.length))},directives:[u.EJ,u.Q7,u.JJ,u.On,u.YN,u.Kr,s.sg,s.O5],styles:[".Rejected.status[_ngcontent-%COMP%]{color:red}.Approved.status[_ngcontent-%COMP%]{color:#00e08b}.Pending.status[_ngcontent-%COMP%]{color:#00f}"]}),i})()},{path:"participant-details",canActivate:[m.a],component:l}];let b=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[a.Bz.forChild(D)],a.Bz]}),i})(),O=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[s.ez,b,u.u5,u.UX]]}),i})()}}]);